with open("recipes.txt", "w") as file:
    content = """Омлет
3
Яйцо | 2 | шт
Молоко | 100 | мл
Помидор | 2 | шт

Утка по-пекински
4
Утка | 1 | шт
Вода | 2 | л
Мед | 3 | ст.л
Соевый соус | 60 | мл

Запеченный картофель
3
Картофель | 1 | кг
Чеснок | 3 | зубч
Сыр гауда | 100 | г

Фахитос
5
Говядина | 500 | г
Перец сладкий | 1 | шт
Лаваш | 2 | шт
Винный уксус | 1 | ст.л
Помидор | 2 | шт"""
    file.write(content)

with open("recipes.txt", "r") as file:
    dishes = []
    cook_book = dict()

    for line in file:
        dish = line.strip()
        dishes.append(dish)
        person_count = int(file.readline())
        ingridient_list = []
        for line in file:
            if len(line) > 1:
                ingridient = dict()
                print(line)
                f = line.split("|")
                ingridient["ingridient_name"] = f[0]
                ingridient["quantity"] = int(f[1])
                ingridient["measure"] = f[2].strip()
                ingridient_list.append(ingridient.copy())
            else:
                break
        cook_book[dish] = ingridient_list
    print(cook_book)
